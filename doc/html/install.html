<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.15.2: http://docutils.sourceforge.net/" />
<title>install.txt</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<div class="document">


<p>b'==============================nBuilding and installing Gameran==============================nn**Last modified**: November 20, 2019nn.. contents::nn.. role:: raw-html(raw)n   :format: htmln.. footer:: <a href="#id1"><span class="problematic" id="id2">:raw-html:`&lt;div style=&quot;text-align:right;&quot;&gt;For contact information, see &lt;a href=&quot;http://gamera.informatik.hsnr.de/contact.html&quot;&gt;http://gamera.informatik.hsnr.de/contact.html&lt;/a&gt;&lt;/div&gt;`</span></a>nnnnLinux (and other \*nix)n=======================nnPrerequisitesn-------------nn- Python 3.5 and later are supported, though Python 3.7 isn  recommended.nn  You will need to have the headers (but not the complete source) ton  build Gamera from source code.  Most Linux distributions includen  these as a separate package (eg. <tt class="docutils literal"><span class="pre">python-dev</span></tt> or <tt class="docutils literal"><span class="pre">python-devel</span></tt>).nn- wxPython 4.0.x or later.nn- <tt class="docutils literal">gcc</tt> version 3.1 or later.nn- libtiff 3.5.x or laternn- libpng 1.2.x or laternnIf any of these prerequisites is installed in a non standard directory,nyou can use the environment variables <tt class="docutils literal">CFLAGS</tt> and <tt class="docutils literal">LDFLAGS</tt> tonpass its locations to the build script, e.g.::nn  CFLAGS=-I/usr/local/includen  LDFLAGS=-L/usr/local/libn  export CFLAGS LDFLAGSnnnStandard Build and Installn--------------------------nnGamera is built using the Python-standard Distutils system.  Open anterminal and type::nn  python setup.py buildn  sudo python setup.py installnnBy default, parallelization of the genetic algorithms is only compiledninto Gamera under Linux and with gcc version &gt; 4.2, because we could onlynget it running in this environment. If you are sure that you have unbrokennOpenMP support on your system, you can compile Gamera with::nn  python setup.py build --openmp=yesnnIf Gamera is compiled with OpenMP on your system, but OpenMP does not worknon your system for some reason, you can switch it off with::nn  python setup.py build --openmp=nonnnInstalling without root privilegesn----------------------------------nn.. _without_root:nnIf you do not have root access to your machine, you can make a localninstallation of Gamera.nnA quick-and-easy way to do this is to use the <tt class="docutils literal">virtual_python.py</tt>nscript available <a href="#id3"><span class="problematic" id="id4">here__</span></a>, and then follow the standard installationninstructions (without using sudo)::nn  python setup.py buildn  python setup.py installnn.. __: <a class="reference external" href="http://peak.telecommunity.com/DevCenter/EasyInstall#creating-a-virtual-pythonnnAlternatively">http://peak.telecommunity.com/DevCenter/EasyInstall#creating-a-virtual-pythonnnAlternatively</a>, you can set up a local installation by hand.nnMake a local python module directory somewhere that you have writenprivileges (such as your home directory)::nn  mkdir ~/pythonnnFrom the Gamera build directory, install Gamera into that directory::nn  python setup.py install --home=~/pythonnnSet up an environment variables so Python can find stuff there (younmay want to add this to your ~/.bash_profile file)::nn  export PYTHONPATH=~/python/lib/pythonnnAdd the local Python scripts directory to your path::nn  export PATH=~/python/bin:$PATHnnNow you should be able to run the <tt class="docutils literal">gamera_gui</tt> script from thencommand line.nnRunningn-------nnRun the <tt class="docutils literal">gamera_gui</tt> script, which should have installed ton``/usr/local/bin``.  This file can also be copied anywhere (such asnthe Desktop) and double-clicked to run Gamera.nn.. note:: Running the script from the root of the source tree will notn  work, since it will not be able to find the compiled version of Gamera.nnInstalling without wxPythonn---------------------------nnWhen you need Gamera as a backend for document processing routines onna server and do not need the GUI, it can save a lot of trouble tonavoid the installation of wxPython. For this case, use the optionn``--nowx`` for <tt class="docutils literal">setup.py</tt>::nn  python setup.py --nowx buildn  sudo python setup.py --nowx installnnnMac OS-Xn========nnInstallation on 10.11 (El Captain) and aboven--------------------------------------------nnDue to the OS-X builtin &quot;system integrity protection&quot; (SIP), wxPythonnand Gamera  cannot be installed into the python branch shipped with OS-X.nYou must therefore install wxPython and Gamera into a <a href="#id3"><span class="problematic" id="id5">`virtual environment`__</span></a>.nn.. __: <a class="reference external" href="https://virtualenv.pypa.io/nnnPrerequisites">https://virtualenv.pypa.io/nnnPrerequisites</a>n`````````````nnAs Gamera must be installed from the C++ sources, you must have Xcodenand the Xcode Command Line Tools installed. When Xcode is already installed,nthe command line tools can be installed with <em>xcode-select --install</em>.nnIf you want to use the Python that comes with OS-X, you can installnthe prerequisites for virtual environments with::nn  sudo easy_install pipn  sudo pip3 install virtualenvnnIf this runs into problems with SIP or if you prefer to use the homebrewnversion of Python, you can install the prerequisites instead with::nn  brew install python3n  pip3 install virtualenvnnThen you can set up a virtual environment and install wxPython therein::nn  virtualenv /usr/local/lib/py2gameran  source /usr/local/lib/py2gamera/bin/activaten  pip3 install -U wxPythonnnnBuild and installn`````````````````nnYou can install Gamera into the same virtual environment with::nn  source /usr/local/lib/py2gamera/bin/activaten  cd root_to_gamera_sourcesn  python setup.py buildn  python setup.py installnnnRunningn```````nnOn OS-X, wxPython applications do not run in virtualenvs, becausenwxPython requires a &quot;Framework build of python&quot;. Fortunately, there isna simple workaround: store the following shell script as <em>gamera_gui</em>nin <em>$HOME/bin</em> and modify the PATH variable in $HOME/.profile such, thatn*$HOME/bin* is quite at the beginning of the list. Then you can runn*gamera_gui* from the shell, and the script handles the setup of thenvirtualenv automatically. (Thanks to <a href="#id3"><span class="problematic" id="id6">`George V. Reilly`__</span></a> for proposingnthis fix).nn.. __: <a class="reference external" href="http://www.georgevreilly.com/blog/2015/09/20/RunSnakeRun-WxPython-Brew-Virtualenv.htmlnnWrapper">http://www.georgevreilly.com/blog/2015/09/20/RunSnakeRun-WxPython-Brew-Virtualenv.htmlnnWrapper</a> shell-script for <em>gamera_gui</em> using the Python shipped with OS-X:nn.. code:: shnn  #n  # wrapper script for running gamera_guin  # from virtualenv with osx stock pythonn  #nn  source $HOME/python/py2gamera/bin/activatenn  WXPYTHON_APP=&quot;gamera_gui&quot;n  PYVER=&quot;$(python --version 2&gt;&amp;1 | cut -d ' ' -f 2 | cut -d '.' -f 1,2)&quot;nn  if [ -z &quot;$VIRTUAL_ENV&quot; ] ; thenn      echo &quot;You must activate your virtualenv: set '$VIRTUAL_ENV'&quot;n      exit 1n  finn  SYSTEM_FRAMEWORK_PYTHON_ROOT=&quot;/System$SYSTEM_FRAMEWORK_PYTHON_ROOT&quot;nn  PYTHON_BINARY=&quot;bin/python$PYVER&quot;n  FRAMEWORK_PYTHON=&quot;/usr/bin/python$PYVER&quot;nn  # Use the Framework Python to run the appn  export PYTHONHOME=$VIRTUAL_ENVn  exec &quot;$FRAMEWORK_PYTHON&quot; &quot;$VIRTUAL_ENV/bin/$WXPYTHON_APP&quot; $*nnnWrapper shell-script for <em>gamera_gui</em> using the homebrew Python:nn.. code:: shnn  #n  # wrapper script for running gamera_guin  # from virtualenv with homebrew pythonn  #nn  source /usr/local/lib/py2gamera/bin/activatenn  WXPYTHON_APP=&quot;gamera_gui&quot;n  PYVER=&quot;$(python --version 2&gt;&amp;1 | cut -d ' ' -f 2 | cut -d '.' -f 1,2)&quot;nn  if [ -z &quot;$VIRTUAL_ENV&quot; ] ; thenn      echo &quot;You must activate your virtualenv: set '$VIRTUAL_ENV'&quot;n      exit 1n  finn  SYSTEM_FRAMEWORK_PYTHON_ROOT=&quot;/System$SYSTEM_FRAMEWORK_PYTHON_ROOT&quot;nn  PYSUBVER=&quot;$(python --version 2&gt;&amp;1 | cut -d ' ' -f2)&quot;  # e.g., 2.7.10n  BREW_PYTHON_ROOT=&quot;<cite>ls -d $(brew --prefix)/Cellar/python&#64;2/$PYSUBVER*</cite>&quot;n  BREW_PYTHON_ROOT=&quot;$BREW_PYTHON_ROOT/Frameworks/Python.framework/Versions/$PYVER&quot;nn  PYTHON_BINARY=&quot;bin/python$PYVER&quot;n  FRAMEWORK_PYTHON=&quot;$BREW_PYTHON_ROOT/$PYTHON_BINARY&quot;nn  VENV_SITE_PACKAGES=&quot;$VIRTUAL_ENV/lib/python$PYVER/site-packages&quot;nn  # Ensure wx.pth is set up in the virtualenvn  # (does not seem to be necessary, so we comment it out)n  #test -e &quot;$VENV_SITE_PACKAGES/wx.pth&quot; || \n  #  cp &quot;/Library/Python/$PYVER/site-packages/wxredirect.pth&quot; &quot;$VENV_SITE_PACKAGES/wx.pth&quot;nn  # Use the Framework Python to run the appn  export PYTHONHOME=$VIRTUAL_ENVn  exec &quot;$FRAMEWORK_PYTHON&quot; &quot;$VIRTUAL_ENV/bin/$WXPYTHON_APP&quot; $*n'</p>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./src/install.txt</tt>, line 1); <em><a href="#id2">backlink</a></em></p>
Unknown interpreted text role &quot;raw-html&quot;.</div>
<div class="system-messages section">
<h1>Docutils System Messages</h1>
<div class="system-message" id="id3">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./src/install.txt</tt>, line 2); <em>backlinks: <a href="#id4">1</a>, <a href="#id5">2</a>, <a href="#id6">3</a></em></p>
Anonymous hyperlink mismatch: 3 references but 0 targets.
See &quot;backrefs&quot; attribute for IDs.</div>
</div>
</div>
</body>
</html>
