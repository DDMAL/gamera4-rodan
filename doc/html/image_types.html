<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.15.2: http://docutils.sourceforge.net/" />
<title>image_types.txt</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<div class="document">


<p>b'===========nImage typesn===========nn**Last modified**: June 03, 2019nn.. contents::nn.. role:: raw-html(raw)n   :format: htmln.. footer:: <a href="#id1"><span class="problematic" id="id2">:raw-html:`&lt;div style=&quot;text-align:right;&quot;&gt;For contact information, see &lt;a href=&quot;http://gamera.informatik.hsnr.de/contact.html&quot;&gt;http://gamera.informatik.hsnr.de/contact.html&lt;/a&gt;&lt;/div&gt;`</span></a>nnn:Editors: Michael Droettboom, Christoph DalitznnThere are a number of different image types in Gamera that servendifferent purposes.  Fortunately, they all share a common interface,nwhich allows many operations on images to be compiled for differentnimage types from the same source code using C++ templates.  This isnwhy <em>all</em> Gamera plugin methods are templatized (see <a href="#id3"><span class="problematic" id="id4">`Writing Gamera\nPlugins`__</span></a>).nn.. __: writing_plugins.htmlnnImage types are specified on two axes: 1] the type of pixels thencontain, and 2] the storage type:nnPixel typesn===========nnThe pixels in an image can be one of the following types:nn   <tt class="docutils literal">RGB</tt>nt24-bit color pixels (8-bits per pixel),ntrepresenting 2 ^ 24 (16,777,216) different colors.nt``RGBPixel`` objects have some special <a href="#id3"><span class="problematic" id="id5">`properties and methods`__</span></a>.nn.. __: gamera.core.RGBPixel.htmlnn   <tt class="docutils literal">GREYSCALE</tt>n        8-bit greyscale, representing 256 different levelsn        of grey.nn   <tt class="docutils literal">GREY16</tt>n        16-bit greyscale, representing 65,536 different levels ofn        grey.nn   <tt class="docutils literal">ONEBIT</tt>ntFor black-and-white images.  The underlying representation isntactually 16 bits-per-pixel, since <a href="#id3"><span class="problematic" id="id6">`connected component\n\tlabelling`__</span></a> stores information with each pixel.  This seemsntlike wasted space, but since connected component labelling isntso common in Gamera, it more often is a space savings from thentfact that the image data can be &quot;shared.&quot;nn   <tt class="docutils literal">FLOAT</tt>n        Double-precision floating point greyscale.  This is useful for imagesn        that need a really wide dynamic range.nn   .. warning:: Unfortunately, at this time <tt class="docutils literal">FLOAT</tt> images cannot be savedn      or loaded.nn   .. note:: When <tt class="docutils literal">FLOAT</tt> images are displayed in the GUI, then      output is automatically &quot;normalized&quot; so that the total range inn      the image is equal to the range of brightnesses your monitor cann      display.nn.. __: plugins.html#cc-analysisnnThe pixel type of an image can be retrieved in two ways.nn.. code:: Pythonnn  image.pixel_type_namennreturns a string which is one of <tt class="docutils literal">RGB</tt>, <tt class="docutils literal">GreyScale</tt>, <tt class="docutils literal">Grey16</tt>,n``OneBit`` or <tt class="docutils literal">Float</tt>.nn.. code:: Pythonnn  image.data.pixel_typennreturns an integer which will be one of the constants <tt class="docutils literal">RGB</tt>,n``GREYSCALE``, <tt class="docutils literal">GREY16</tt>, <tt class="docutils literal">ONEBIT</tt> or <tt class="docutils literal">FLOAT</tt>. nnStorage formatsn===============nnGamera has two ways of storing the image data in memory behind the scenes:nn   <tt class="docutils literal">DENSE</tt>ntUncompressed.  The image data is a contiguous chunk of memoryntthat is addressed in row-major order (left-to-right,nttop-to-bottom).nn   <tt class="docutils literal">RLE</tt>ntRun-length encoded.  For certain kinds of images,ntrun-length-encoding can be a performance improvement sincentless data needs to be transferred between main memory and thentCPU.nn.. warning:: At present, <tt class="docutils literal">RLE</tt> is only available for <tt class="docutils literal">ONEBIT</tt> images.nnThe storage format of an image can be determined in two ways.nn.. code:: Pythonnn  image.storage_format_name()nnreturns a string which is either <tt class="docutils literal">Dense</tt> or <tt class="docutils literal">RLE</tt>.nn.. code:: Pythonnn  image.data.storage_formatnnreturns an integer corresponding to the constants <tt class="docutils literal">DENSE</tt> and <tt class="docutils literal">RLE</tt>.nn.. note:: Any performance improvement should be justified onlyn   by profiling on real-world datannImage methodsn=============nnThe methods on images include all of the plugin methods in the currentnenvironment.  These are documented in the <a href="#id3"><span class="problematic" id="id7">`plugin reference`__</span></a>.  Innaddition, there are number of core properties and methods.nn.. __: plugins.htmlnnConstructorsn------------nn``Image.__init__``n''''''''''''''''''nn.. docstring:: gamera.core Image __init__n   :no_title:nn``SubImage.__init__``n'''''''''''''''''''''nn.. docstring:: gamera.core SubImage __init__n   :no_title:nnPixel accessn------------nn.. docstring:: gamera.core Image get setnnnInformationaln-------------nnThese methods provide information about the image.nn.. docstring:: gamera.core ImageBase pixel_type_name storage_format_name memory_sizen.. docstring:: gamera.core Image resolution white blackn.. docstring:: gamera.core Cc labeln.. docstring:: gamera.core Image data ncols nrows offset_x offset_y ul ur ll lrnnBounding boxn------------nnBounding box operations on <tt class="docutils literal">Image</tt> objects are inherited from thenRect__ class.  nn.. __: dimension_types.html#rectnnClassificationn--------------nnSee <a href="#id3"><span class="problematic" id="id8">`Classification plugins`__</span></a>.nn.. __: classification.htmlnnnSpecial image viewsn===================nnThere are two special image views on <tt class="docutils literal">ONEBIT</tt> images that only considernspecific pixel values to be black: <em>connected components</em> and <em>multilabelnconnected components</em>. In most cases, you will need connected components; nmultilabel connected components are only meant for very special use cases.nnConnected Componentsn--------------------nnConnected components (<tt class="docutils literal">Cc</tt>) are a special kind of view on <tt class="docutils literal">ONEBIT</tt> imagendata. The implementation (ab)uses the fact that <tt class="docutils literal">ONEBIT</tt> images are nactually stored as 16-bits-per-pixel data. Therefore all pixels belonging tonthe same Cc are set to the same pixel value (the &quot;connected component label&quot;)nand pixels belonging to different Cc's have different pixel values.nnEach Cc object defines a bounding box and a <tt class="docutils literal">label</tt> value whichnindicates the pixel value that the Cc object corresponds to.nPixels with that value will appear to be black, and pixels withoutnthat value will appear to be white.nnAs a programmer using a Cc object, this detail should not matternmost of the time: it will behave as a standalone <tt class="docutils literal">ONEBIT</tt> image.nHowever, care should be taken when setting the values of a Ccnobject: it may be possible to make pixels &quot;disappear&quot; by setting themnto a value other than <tt class="docutils literal">Cc.label</tt>.nnCc's behave like image views with the additional property <tt class="docutils literal">label</tt>.nYou can remove a particular Cc with <tt class="docutils literal">fill_white</tt>:nn.. code:: Pythonnn  # remove all CCs with an aspect ration &gt; 3n  ccs = onebit.cc_analysis()n  for c in ccs:n    if float(c.nrows) / c.ncols &gt; 3.0:n       c.fill_white()nnYou can even take a CC from one image and highlight its black pixelsnon a different image:nn.. code:: Pythonnn  # mark all CCs with an aspect ration &gt; 3 in redn  # without changing the original imagen  ccs = onebit.cc_analysis()n  rgb = onebit.to_rgb()n  for c in ccs:n    if float(c.nrows) / c.ncols &gt; 3.0:n       rgb.highlight(c, RGBPixel(255,0,0))nn.. docstring:: gamera.core Cc __init__nnnMulti-Label Connected Componentsn--------------------------------nnMultiLabelCCs (<tt class="docutils literal">MlCc</tt> on the python side, and <tt class="docutils literal">MultiLabelCC</tt> on the nC++ side) basically work in the same way as 'regular'nConnected Components. The difference between those two is the abilitynof MlCcs to have multiple labels. Each label has an associated <tt class="docutils literal">Rect</tt>nrepresenting its bounding box; the bounding box of the entire MlCc isnthe closure of all label bounding boxes.nnThis special feature allows for building connected components which nactually consist of different parts, thus making it fast and easy to ncreate different variants of an MlCcs with some parts excluded. Tonmake this even more useful, each MlCc has an additional (optional)nproperty, the subpart neighborship relations. Note that these relationshipsnneed to be provided by the user, in case he needs them.nnApart from the basic image methods, MlCcs offer a number of additionalnfunctions as listed below.nn.. docstring:: gamera.core MlCc __init__nn.. docstring:: gamera.core MlCc has_label get_labels add_label remove_label relabeln.. docstring:: gamera.core MlCc convert_to_cc convert_to_cc_listn.. docstring:: gamera.core MlCc get_neighbors add_neighborsnnnImage functionsn===============nnThere are a number of free functions for dealing with images.nnFilen----nn.. docstring:: gamera core load_image image_infonnGUIn---nn.. docstring:: gamera core display_multinn'</p>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./src/image_types.txt</tt>, line 1); <em><a href="#id2">backlink</a></em></p>
Unknown interpreted text role &quot;raw-html&quot;.</div>
<div class="system-messages section">
<h1>Docutils System Messages</h1>
<div class="system-message" id="id3">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">./src/image_types.txt</tt>, line 2); <em>backlinks: <a href="#id4">1</a>, <a href="#id5">2</a>, <a href="#id6">3</a>, <a href="#id7">4</a>, <a href="#id8">5</a></em></p>
Anonymous hyperlink mismatch: 5 references but 0 targets.
See &quot;backrefs&quot; attribute for IDs.</div>
</div>
</div>
</body>
</html>
